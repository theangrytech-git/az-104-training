Q2: How to attach a Public IP to any Virtual Machine that has a Private IP and not a Public IP?
Navigate to the Virtual Machine:

In the Azure portal, go to "Virtual machines."
Access VM Networking Settings:

Select the Virtual Machine you want to modify.
Under "Settings," click on "Networking."
Add IP Configuration:

Click on the network interface associated with the VM.
In the network interface settings, click "Add IP configuration."
Choose to associate the NIC with an existing Public IP or create a new one.
Q3a: How do I create 3 Virtual Machines with the specified settings?
Navigate to Virtual Machines:

In the Azure portal, go to "Virtual machines."
Create VM:

Click on "Add" to create a new VM.
Fill in the required information:
VM name, region, availability options, image, size, inbound ports, virtual network, and subnet.
Repeat this process for the other two VMs.

Q3b: How to access the Linux Virtual Machines via SSH?
Obtaining PEM File:
Generate SSH Key Pair:

Before connecting, ensure you have an SSH key pair.
bash
Copy code
ssh-keygen -t rsa -b 2048
Upload Public Key to VM:

Navigate to the Azure portal.
Select the Linux VM.
Under "Settings," go to "Reset password."
Choose "SSH public key," and upload your public key.
Connect to VM:

Use the following command to SSH into the VM:

ssh -i /path/to/private-key.pem <username>@<public-ip-address>
Replace /path/to/private-key.pem with the path to your private key file.

Q4b: How to create a VMSS with Custom Scaling?
Configure Custom Scaling Metric:
Navigate to VMSS Creation:

In the Azure portal, go to "Virtual machine scale sets" and click on "Add."
Configure Scaling Section:

In the "Scaling" section of the creation process, you'll see options for "Scaling rules" and "Scaling thresholds."
Create Scaling Rules:

Under "Scaling rules," add rules for scaling out and scaling in based on CPU usage.
Set "Scale Out" rule:
Metric Name: Percentage CPU.
Operator: GreaterThan.
Threshold: 70.
Direction: Increase count by.
Instance Count: 2.
Duration: PT10M (10 minutes).
Set "Scale In" rule:
Metric Name: Percentage CPU.
Operator: LessThan.
Threshold: 25.
Direction: Decrease count by.
Instance Count: 1.
Duration: PT10M (10 minutes).
Configure Capacity:

Set the "Minimum" and "Maximum" instances under the "Scaling" section.
Review and Create:

Complete the VMSS creation process and review the configurations before creating.




Q5a: Reset the password for the Virtual Machine 'dodgy-science' and 'sketchy-stuff' in North Europe.
Reset Password:
Navigate to VM Settings:

Go to the Azure portal (https://portal.azure.com/).
In the left sidebar, click on "Virtual machines."
Select VMs:

In the "Virtual machines" section, select the VMs 'dodgy-science' and 'sketchy-stuff' in the 'rg-neu-compute' resource group.
Reset Password:

In the VM's menu, under the "Settings" section, click on "Reset password."
Follow Prompts:

Follow the on-screen prompts to reset the password for each VM.
Q5b: Save the Passwords as a Secret in Key Vault, and grant access to anyone in the Projects Department.
Save Passwords to Key Vault:
Navigate to Key Vault:

In the Azure portal, click on "All services" in the left sidebar.
Type "Key vault" in the search bar and select it.
Create a Key Vault:

Click on "Add" to create a new Key Vault. Fill in the required details like name, subscription, resource group, and region.
Add Secrets:

Inside the Key Vault, under "Settings," select "Secrets." Add a new secret for each VM, providing the passwords.
Access Policy:

Under "Access policies," click on "Add Access Policy."
Choose the "Projects Department" and grant appropriate permissions to "Get" secrets.

Q6: Prevent Public Access to the Virtual Machines directly, and use Bastion to connect to the Virtual Machines in all regions.
Restrict Public Access and Use Azure Bastion:
Restricting Public Access:

Navigate to VM Networking:

In the Azure portal, click on "Virtual machines."
Select a VM and go to "Settings" > "Networking."
Disable Public IP:

Under "Public IP," set the assignment to "None."
Save Changes:

Save the changes to update the network configuration.
Enable Azure Bastion:

Enable Azure Bastion:

In the VM's settings, go to "Networking."
Enable "Azure Bastion" and configure the settings like subnet, etc.
Configure Bastion:

Configure Azure Bastion settings, such as the subnet and public IP address. If the subnet doesn't exist, you can create one.
Connect using Azure Bastion:

In the Azure portal, select the VM, click on "Connect," and choose "Bastion" as the connection type.
Use the Azure portal interface to connect to the VM securely.

Q7: Create an Availability Set in West Europe on Windows 11.
Create Availability Set:
Navigate to Availability Sets:

In the Azure portal, click on "All services."
Type "Availability sets" in the search bar and select it.
Create Availability Set:

Click on "Add."
Fill in the required details:
Name: Specify a name for the availability set.
Resource Group: Choose the appropriate resource group.
Region: Select "West Europe."
Fault Domains: Configure the number of fault domains based on your requirements.
Update Domains: Set the number of update domains.
Operating System: Choose "Windows."
Review + Create:

Click on "Review + create," review the settings, and click "Create."

Q8: Backup all of the Virtual Machines in all regions.
Configure VM Backups:
Note: This assumes that Backup Center is enabled. If not, you may need to enable it first.

Navigate to Backup Center:

In the Azure portal, click on "All services."
Type "Backup Center" in the search bar and select it.
Discover Resources:

Click on "Discover" to discover and assess the backup status of your resources.
Configure Backup:

Under "Backup Management," select "Configure backup."
Choose the resources you want to backup (VMs in all regions) and follow the wizard to configure the backup policy.
Backup Policy:

Define a backup policy specifying frequency, retention, and other settings.
Review + Save:

Review the configuration and save the backup policy.

Q9: Add an additional disk to all virtual machines in UK South.
Add Additional Disk:
Navigate to VM Settings:

In the Azure portal, click on "Virtual machines."
Select a VM in the 'rg-uks-compute' resource group.
Add Data Disk:

In the VM's menu, under "Settings," click on "Disks."
Click on "Add data disk" and follow the prompts to add a new data disk to the VM.
Configure Disk:

Specify the disk name, size, and other configurations.
Save Changes:

Save the changes to attach the additional disk to the VM.

Q10: Create a shared disk for virtual machines in North Europe.
Create Shared Disk:
Navigate to Disks:

In the Azure portal, click on "All services."
Type "Disks" in the search bar and select it.
Create Shared Disk:

Click on "Add."
Fill in the required details:
Name: Specify a name for the shared disk.
Resource Group: Choose the appropriate resource group.
Region: Select "North Europe."
Operating System: Choose "None."
Review + Create:

Click on "Review + create," review the settings, and click "Create."


Q11: Create Managed Identities for all Virtual Machines and Virtual Machine Scale Sets.
Create Managed Identity:
Navigate to VM or VMSS Settings:

In the Azure portal, click on "Virtual machines" or "Virtual machine scale sets."
Enable System-assigned Managed Identity:

In the VM or VMSS settings, under "Identity," enable the system-assigned managed identity.


Q12: Create a Function App for use in UK South.
Create Function App:
Navigate to Function App:

In the Azure portal, click on "All services."
Type "Function App" in the search bar and select it.
Create Function App:

Click on "Add."
Fill in the required details:
Subscription: Choose the appropriate subscription.
Resource Group: Choose or create the resource group for the UK South region.
OS: Choose "Windows."
Runtime Stack: Choose a suitable runtime stack for your function app.
Review + Create:

Click on "Review + create," review the settings, and click "Create."
Q13: Create a container registry in UK South and restrict access to the Project Department.
Create Container Registry and Restrict Access:
Navigate to Container Registries:

In the Azure portal, click on "All services."
Type "Container Registries" in the search bar and select it.
Create Container Registry:

Click on "Add."
Fill in the required details:
Registry Name: Specify a unique name.
Resource Group: Choose or create the appropriate resource group for the UK South region.
Region: Select "UK South."
SKU: Choose the SKU based on your requirements.
Access Control:

Under "Access control (IAM)," grant specific permissions to the "Projects Department" while restricting others. Use Azure RBAC to manage access.